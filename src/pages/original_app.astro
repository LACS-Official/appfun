---
import Layout from '../layouts/Layout.astro';
import SoftwareListByTags from '../components/software/SoftwareListByTags.astro';
import { initializeApiClient } from '../lib/api';
import { apiConfig } from '../lib/config';

// åˆå§‹åŒ– API å®¢æˆ·ç«¯
initializeApiClient(apiConfig);

const title = 'åŸåˆ›è½¯ä»¶';
const description = 'ç‹¬ç«‹å¼€å‘è€…å’Œå›¢é˜Ÿç²¾å¿ƒæ‰“é€ çš„åŸåˆ›è½¯ä»¶ä½œå“ï¼Œåˆ›æ–°å®ç”¨ï¼Œå€¼å¾—ä½“éªŒ';
const tags = 'original_app';
---

<Layout title={title} description={description}>
  <!-- é¡µé¢å¤´éƒ¨ -->
  <section class="bg-gradient-to-r from-green-600 to-green-800 text-white py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <div class="flex justify-center mb-4">
          <div class="bg-white/20 p-4 rounded-full">
            <span class="text-4xl">ğŸ¨</span>
          </div>
        </div>
        <h1 class="text-4xl font-bold mb-4">{title}</h1>
        <p class="text-xl text-green-100 max-w-3xl mx-auto">
          {description}
        </p>
        <div class="mt-6 flex justify-center">
          <div class="bg-white/20 rounded-full px-4 py-2">
            <span class="text-sm font-medium">ç‹¬ç«‹å¼€å‘ Â· åŸåˆ›ä½œå“</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ç‰¹è‰²ä»‹ç» -->
  <section class="py-12 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="text-center">
          <div class="bg-green-100 p-3 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
            <span class="text-2xl">ğŸ’¡</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">åˆ›æ–°è®¾è®¡</h3>
          <p class="text-gray-600">ç‹¬ç‰¹çš„åˆ›æ„å’Œè®¾è®¡ç†å¿µï¼Œå¸¦æ¥å…¨æ–°ä½“éªŒ</p>
        </div>
        <div class="text-center">
          <div class="bg-blue-100 p-3 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
            <span class="text-2xl">ğŸ› ï¸</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">ç²¾å¿ƒæ‰“é€ </h3>
          <p class="text-gray-600">æ¯ä¸€ä¸ªç»†èŠ‚éƒ½ç»è¿‡ç²¾å¿ƒè®¾è®¡å’Œä¼˜åŒ–</p>
        </div>
        <div class="text-center">
          <div class="bg-purple-100 p-3 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center">
            <span class="text-2xl">ğŸš€</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-900 mb-2">æŒç»­æ›´æ–°</h3>
          <p class="text-gray-600">å¼€å‘è€…æŒç»­ç»´æŠ¤ï¼ŒåŠŸèƒ½ä¸æ–­å®Œå–„</p>
        </div>
      </div>
    </div>
  </section>

  <!-- è½¯ä»¶åˆ—è¡¨ -->
  <section class="py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <SoftwareListByTags
        title="åŸåˆ›è½¯ä»¶ä½œå“"
        description="ç‹¬ç«‹å¼€å‘è€…å’Œå›¢é˜Ÿçš„ç²¾å¿ƒä¹‹ä½œï¼Œæ¯ä¸€æ¬¾éƒ½å€¼å¾—ä½“éªŒ"
        tags={tags}
        limit={24}
        sortBy="updatedAt"
        sortOrder="desc"
        showViewAll={false}
        class="w-full"
      />
    </div>
  </section>

  <!-- å¼€å‘è€…æ”¯æŒ -->
  <section class="py-12 bg-green-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-8">
        <h2 class="text-3xl font-bold text-gray-900 mb-4">æ”¯æŒç‹¬ç«‹å¼€å‘è€…</h2>
        <p class="text-lg text-gray-600 max-w-2xl mx-auto">
          è¿™äº›è½¯ä»¶éƒ½æ˜¯ç‹¬ç«‹å¼€å‘è€…å’Œå°å›¢é˜Ÿçš„å¿ƒè¡€ä¹‹ä½œï¼Œæ‚¨çš„ä½¿ç”¨å’Œåé¦ˆæ˜¯å¯¹ä»–ä»¬æœ€å¤§çš„æ”¯æŒ
        </p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div class="bg-white rounded-lg p-6 shadow-sm">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">å¦‚ä½•æ”¯æŒå¼€å‘è€…</h3>
          <ul class="space-y-2 text-gray-600">
            <li class="flex items-center">
              <span class="text-green-500 mr-2">âœ“</span>
              ä¸‹è½½ä½¿ç”¨å¹¶åˆ†äº«ç»™æœ‹å‹
            </li>
            <li class="flex items-center">
              <span class="text-green-500 mr-2">âœ“</span>
              æä¾›ä½¿ç”¨åé¦ˆå’Œå»ºè®®
            </li>
            <li class="flex items-center">
              <span class="text-green-500 mr-2">âœ“</span>
              åœ¨ç¤¾äº¤åª’ä½“ä¸Šæ¨è
            </li>
            <li class="flex items-center">
              <span class="text-green-500 mr-2">âœ“</span>
              å‚ä¸è½¯ä»¶çš„æµ‹è¯•å’Œæ”¹è¿›
            </li>
          </ul>
        </div>
        
        <div class="bg-white rounded-lg p-6 shadow-sm">
          <h3 class="text-lg font-semibold text-gray-900 mb-3">æˆä¸ºå¼€å‘è€…</h3>
          <p class="text-gray-600 mb-4">
            å¦‚æœæ‚¨ä¹Ÿæ˜¯å¼€å‘è€…ï¼Œæ¬¢è¿æäº¤æ‚¨çš„åŸåˆ›ä½œå“åˆ°æˆ‘ä»¬çš„å¹³å°
          </p>
          <div class="flex space-x-4">
            <a href="/software" class="btn btn-outline">
              äº†è§£æ›´å¤š
            </a>
            <a href="/search" class="btn btn-primary">
              æäº¤ä½œå“
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>

<script>
  import { initializeApiClient, getApiClient } from '../lib/api';
  import { apiConfig } from '../lib/config';

  // åˆå§‹åŒ– API å®¢æˆ·ç«¯
  initializeApiClient(apiConfig);

  // é¡µé¢åŠ è½½å®Œæˆåçš„å¤„ç†
  document.addEventListener('DOMContentLoaded', () => {
    console.log('åŸåˆ›è½¯ä»¶é¡µé¢å·²åŠ è½½');

    // è®¾ç½®å…¨å±€APIå®¢æˆ·ç«¯
    window.apiClient = getApiClient();

    // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ é¡µé¢ç‰¹å®šçš„äº¤äº’é€»è¾‘
    // æ¯”å¦‚ç»Ÿè®¡é¡µé¢è®¿é—®é‡ã€ç”¨æˆ·è¡Œä¸ºè¿½è¸ªç­‰
  });
</script>

<style>
  .btn {
    @apply inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors;
  }

  .btn-primary {
    @apply text-white bg-green-600 hover:bg-green-700 focus:ring-green-500;
  }

  .btn-outline {
    @apply text-green-700 bg-white border-green-300 hover:bg-green-50 focus:ring-green-500;
  }
</style>
